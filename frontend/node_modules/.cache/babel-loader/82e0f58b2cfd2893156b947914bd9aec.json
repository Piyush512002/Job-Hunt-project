{"ast":null,"code":"import _objectSpread from\"C:/Users/piyus/Desktop/Hire-Hub-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useContext,useState}from\"react\";import{Grid,TextField,Button,Typography,makeStyles,Paper}from\"@material-ui/core\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";import\"../index.css\";import PasswordInput from\"../lib/PasswordInput\";import EmailInput from\"../lib/EmailInput\";import{SetPopupContext}from\"../App\";import apiList from\"../lib/apiList\";import isAuth from\"../lib/isAuth\";import img from'./login-img.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({body:{padding:\"60px 60px\"},inputBox:{width:\"300px\"},submitButton:{width:\"300px\"}}));const Login=props=>{const classes=useStyles();const setPopup=useContext(SetPopupContext);const[loggedin,setLoggedin]=useState(isAuth());const[loginDetails,setLoginDetails]=useState({email:\"\",password:\"\"});const[inputErrorHandler,setInputErrorHandler]=useState({email:{error:false,message:\"\"},password:{error:false,message:\"\"}});const handleInput=(key,value)=>{setLoginDetails(_objectSpread(_objectSpread({},loginDetails),{},{[key]:value}));};const handleInputError=(key,status,message)=>{setInputErrorHandler(_objectSpread(_objectSpread({},inputErrorHandler),{},{[key]:{error:status,message:message}}));};const handleLogin=()=>{const verified=!Object.keys(inputErrorHandler).some(obj=>{return inputErrorHandler[obj].error;});if(verified){axios.post(apiList.login,loginDetails).then(response=>{localStorage.setItem(\"token\",response.data.token);localStorage.setItem(\"type\",response.data.type);setLoggedin(isAuth());setPopup({open:true,severity:\"success\",message:\"Logged in successfully\"});console.log(response);}).catch(err=>{setPopup({open:true,severity:\"error\",message:err.response.data.message});console.log(err.response);});}else{setPopup({open:true,severity:\"error\",message:\"Incorrect Input\"});}};return loggedin?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{style:{alignItems:\"center\",marginLeft:\"15%\",marginTop:\"\"},children:/*#__PURE__*/_jsx(\"img\",{src:img,width:\"400px\",height:\"450px\"})}),/*#__PURE__*/_jsx(Paper,{elevation:3,className:classes.body,children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",spacing:4,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h2\",style:{color:\"#3f51b5\",fontWeight:\"bold\"},children:\"Welcome back, Login!\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(EmailInput,{label:\"Email\",value:loginDetails.email,onChange:event=>handleInput(\"email\",event.target.value),inputErrorHandler:inputErrorHandler,handleInputError:handleInputError,className:classes.inputBox})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(PasswordInput,{label:\"Password\",value:loginDetails.password,onChange:event=>handleInput(\"password\",event.target.value),className:classes.inputBox})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>handleLogin(),className:classes.submitButton,style:{borderRadius:\"8px\",width:\"130px\",height:\"50px\"},children:\"Login\"})})]})})]});};export default Login;","map":{"version":3,"names":["useContext","useState","Grid","TextField","Button","Typography","makeStyles","Paper","axios","Redirect","PasswordInput","EmailInput","SetPopupContext","apiList","isAuth","img","jsx","_jsx","jsxs","_jsxs","useStyles","theme","body","padding","inputBox","width","submitButton","Login","props","classes","setPopup","loggedin","setLoggedin","loginDetails","setLoginDetails","email","password","inputErrorHandler","setInputErrorHandler","error","message","handleInput","key","value","_objectSpread","handleInputError","status","handleLogin","verified","Object","keys","some","obj","post","login","then","response","localStorage","setItem","data","token","type","open","severity","console","log","catch","err","to","container","direction","children","style","alignItems","marginLeft","marginTop","src","height","elevation","className","spacing","item","variant","component","color","fontWeight","label","onChange","event","target","onClick","borderRadius"],"sources":["C:/Users/piyus/Desktop/Hire-Hub-main/frontend/src/component/Login.js"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport {\n  Grid,\n  TextField,\n  Button,\n  Typography,\n  makeStyles,\n  Paper,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../index.css\"\n\nimport PasswordInput from \"../lib/PasswordInput\";\nimport EmailInput from \"../lib/EmailInput\";\nimport { SetPopupContext } from \"../App\";\n\nimport apiList from \"../lib/apiList\";\nimport isAuth from \"../lib/isAuth\";\n\nimport img from './login-img.png';\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    padding: \"60px 60px\",\n  },\n  inputBox: {\n    width: \"300px\",\n  },\n  submitButton: {\n    width: \"300px\",\n  },\n}));\n\nconst Login = (props) => {\n  const classes = useStyles();\n  const setPopup = useContext(SetPopupContext);\n\n  const [loggedin, setLoggedin] = useState(isAuth());\n\n  const [loginDetails, setLoginDetails] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [inputErrorHandler, setInputErrorHandler] = useState({\n    email: {\n      error: false,\n      message: \"\",\n    },\n    password: {\n      error: false,\n      message: \"\",\n    },\n  });\n\n  const handleInput = (key, value) => {\n    setLoginDetails({\n      ...loginDetails,\n      [key]: value,\n    });\n  };\n\n  const handleInputError = (key, status, message) => {\n    setInputErrorHandler({\n      ...inputErrorHandler,\n      [key]: {\n        error: status,\n        message: message,\n      },\n    });\n  };\n\n  const handleLogin = () => {\n    const verified = !Object.keys(inputErrorHandler).some((obj) => {\n      return inputErrorHandler[obj].error;\n    });\n    if (verified) {\n      axios\n        .post(apiList.login, loginDetails)\n        .then((response) => {\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"type\", response.data.type);\n          setLoggedin(isAuth());\n          setPopup({\n            open: true,\n            severity: \"success\",\n            message: \"Logged in successfully\",\n          });\n          console.log(response);\n        })\n        .catch((err) => {\n          setPopup({\n            open: true,\n            severity: \"error\",\n            message: err.response.data.message,\n          });\n          console.log(err.response);\n        });\n    } else {\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: \"Incorrect Input\",\n      });\n    }\n  };\n\n  return loggedin ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <Grid container direction=\"row\" >\n      <div style={{alignItems:\"center\", marginLeft:\"15%\",marginTop:\"\"}}>\n        <img src={img}\n          width=\"400px\" height=\"450px\" ></img>\n      </div>\n    <Paper elevation={3} className={classes.body}>\n      \n      <Grid container direction=\"column\" spacing={4} alignItems=\"center\">\n      \n        <Grid item>\n          <Typography variant=\"h3\" component=\"h2\" style={{color:\"#3f51b5\",fontWeight:\"bold\"}}>\n            Welcome back, Login!\n          </Typography>\n        </Grid>\n\n        <Grid item>\n          <EmailInput\n            label=\"Email\"\n            value={loginDetails.email}\n            onChange={(event) => handleInput(\"email\", event.target.value)}\n            inputErrorHandler={inputErrorHandler}\n            handleInputError={handleInputError}\n            className={classes.inputBox}\n          />\n        </Grid>\n        <Grid item>\n          <PasswordInput\n            label=\"Password\"\n            value={loginDetails.password}\n            onChange={(event) => handleInput(\"password\", event.target.value)}\n            className={classes.inputBox}\n          />\n        </Grid>\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleLogin()}\n            className={classes.submitButton}\n            style={{borderRadius:\"8px\",width:\"130px\",height:\"50px\"}}\n          >\n            Login\n          </Button>\n        </Grid>\n      </Grid>\n    </Paper>\n  </Grid>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}